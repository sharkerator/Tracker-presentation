<!DOCTYPE html>
<html lang="en">

<head>
	<title>Shower Presentation Engine</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="shower/themes/ribbon/styles/styles.css">
	<style>
		.shower {
			--slide-ratio: calc(16 / 9);
		}
	</style>
</head>

<body class="shower list">

	<header class="caption">
		<h1>Shower Presentation Engine</h1>
		<p>Yours Truly, Famous Inc.</p>
	</header>

	<section class="slide">
		<div style="text-align: center; margin-top: 86px;">
				<div style="font-size: 55px" tabindex="-1" class="_2_BLEhtsabnPJn-EggfNQK"><span style="color: rgb(0, 0, 0);">к</span><span style="color: rgb(223, 20, 85);"><svg style="height: 34px; width: 48px;" width="24" height="17" viewBox="0 0 24 17" class="_3ZUI7Z5tRkKU6LK_FZBVG0"><path fill="#DF1455" d="M10.7947842,0 C7.67880353,0 5.01508082,2.01193926 3.95917347,4.8416599 C1.64805866,5.73629303 0,8.0359337 0,10.7178625 C0,14.1880144 2.7403766,17 6.10931511,17 L16.1509748,17 C19.926179,17 23,13.8471079 23,9.9670801 C23,6.23681465 20.163806,3.18047989 16.5974838,2.93810131 C15.2464589,1.11730613 13.1365606,0 10.7947842,0 M10.8198444,2 C12.5405642,2 14.1189689,2.79038796 15.1502918,4.16792125 L15.5920233,4.75130284 L16.3109922,4.80399537 C18.9410506,4.97148234 21,7.20903301 21,9.89635206 C21,12.7059931 18.7525292,15 15.9857004,15 L6.30087549,15 C3.93142023,15 2,13.0315576 2,10.6133468 C2,8.80298205 3.12373541,7.16010423 4.78715953,6.51650261 L5.45807393,6.25868558 L5.71682879,5.57368269 C6.52081712,3.43587145 8.57052529,2 10.8198444,2"></path></svg></span><span style="color: rgb(0, 0, 0);">нтур.</span><span style="color: rgb(223, 20, 85);">метрика</span></div>
		</div>
		<h1 style="text-align: center; font-weight: normal;">
			Скрипт трекера
		</h1>
	</section>

	<section class="slide">
		<h2>Скрипт трекера</h2>
		<ul>
			<li>Собирает пользовательскую активность (переходы, клики, события)</li>
			<li>Добавляет дополнительные данные для аналитики (время события, разрешение экрана)</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Проблемы старого скрипта трекера</h2>
		<ul>
			<li>
				Невозможно поддерживать и внедрять новые фичи (легаси на 6 тысяч строк монолитного кода)
			</li>
			<li>
				Автоматически собиралась бесполезная информация
			</li>
			<li>
				Только глобальное подключение
			</li>
			<li>
				Отправка событий только через массив с неудобной сигнатурой
			</li>
			<li>
				Отсутствие актуальной документации
			</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Новый скрипт трекера</h2>
		<ul>
			<li>
				Библиотека написана с нуля
			</li>
			<li>
				Новые автоматически собираемые данные
			</li>
			<li>
				Новый способ подключения через модуль
			</li>
			<li>
				Декларативные способы отправки событий
      </li>
      <li>
				Документация
			</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Внутренние особенности</h2>
		<ul>
			<li>
				Новая архитектура на TypeScript
			</li>
			<li>
				Уменьшение размера дистрибутива более чем в 4 раза (с 26 кб до 6 кб)
			</li>
			<li>
				Возможность внедрять новые фичи быстрее и легче
			</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Новые данные из коробки</h2>
		<ul>
			<li>идентификатор вкладки браузера</li>
			<li>время проведенное пользователем на странице</li>
			<li>порядковый номер события</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Идентификатор вкладки</h2>
		<img src="./pictures/tabID-example.png" alt="" style="max-height: 70%" height="356">
	</section>

	<section class="slide">
		<h2>Счетчик времени</h2>
		<img src="./pictures/timer.png" alt="" style="max-height: 70%" height="356">
	</section>

	<section class="slide">
		<h2>Порядковый номер события</h2>
		<h3 style="margin-bottom: 0;">Было</h3>
		<img src="./pictures/event-index-old.png" alt="" height="90">
		<h3 style="margin-bottom: 0;">Стало</h3>
		<img src="./pictures/event-index.png" alt="" height="90">
	</section>

	<section class="slide">
		<h2>Варианты подключения</h2>
		<ul>
			<li>Глобальное</li>
			<li>Модульное</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Варианты отправки событий</h2>
		<ul>
			<li>напрямую</li>
			<li>подписка на события HTML элементов</li>
			<li>разметка HTML элементов</li>
			<li>обертка для React компонентов</li>
			<li>декораторы</li>
		</ul>
  </section>

  <section class="slide">
    <h2>Документация</h2>
    <ul>
      <li>способы подключения скрипта</li>
      <li>описания способов использования</li>
      <li>протокол передачи данных на сервер</li>
    </ul>
	</section>

	<section class="slide">
		<h2>Миграция</h2>
		<h3>Старый трекер</h3>
		<pre>
			<code>&lt;script src="path/to/old/tracker/metrika.js" async&gt;</code>
			<code>var _paq = [];</code>
			<code>_paq.push(["trackEvent", "category", "action"])</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Миграция</h2>
		<h3>Новый трекер</h3>
		<pre>
			<code>&lt;script src="path/to/new/tracker/metrika.js" async&gt;</code>
			<code>var metrikaQueue = [];</code>
			<code>metrikaQueue.push(["trackEvent", "category", "action"])</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Итоги</h2>
		<ul>
			<li>Компактная библиотека</li>
			<li>Новые данные для аналитики</li>
			<li>Вариативность подключения и использования</li>
			<li>Актуальная документация</li>
			<li>Легкая миграция</li>
		</ul>
	</section>

  <section class="slide">
    <h2>Спасибо за внимание!</h2>
		<b>Документация:
			<br>
			<a style="font-size: 23px;" href="https://git.skbkontur.ru/Kontur.Metrika/km-tracker/blob/master/docs/Readme.md" target="_blank">https://git.skbkontur.ru/Kontur.Metrika/km-tracker/blob/master/docs/Readme.md</a>
		</b>
		<div>
			<img src="./pictures/qr-code.gif" alt="">
		</div>
	</section>

	<div class="progress"></div>

	<script src="shower/shower.min.js"></script>
	<!-- Copyright © 2018 Yours Truly, Famous Inc. -->

</body>

</html>